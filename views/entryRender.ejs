<div class="main-container">
    <% if(posts) { %> <% posts.forEach (function(post, index) { %>
    <div class="blog-container" id="blogContainer<%= index %>">
        <div class="blog-header">
            <h1 class="blog-title"><%=post.title%></h1>
            <p class="blog-category"><em><%=post.category%></em></p>
        </div>
        <p class="blog-time"><%=post.formattedCreatedAt%></p>
        <% if(post.image) { %>
        <img src="<%=post.image%>" alt="Blog Image" class="blog-img" />
        <% } %>

        <div class="blog-content">
            <% if(getPostTextContent(post.content).length <= 400) { %>
            <p class="blog-full-content" id="blogFullContent<%= index %>">
                <%-post.content%>
            </p>
            <% } else { %>
            <p class="blog-preview-content" id="blogPreviewContent<%= index %>">
                <%- getPostTextContent(post.content).substring(0, 400) + '...'
                %>
            </p>
            <p
                class="blog-full-content"
                id="blogFullContent<%= index %>"
                style="display: none"
            >
                <%-post.content%>
            </p>
            <button
                class="see-more-btn"
                id="seeMoreButton<%= index %>"
                onclick="toggleContent('<%= index %>')"
            >
                See More
            </button>
            <% } %>
        </div>
    </div>
    <% }) %> <% } if(posts.length === 0) { %>
    <div class="blog-container">
        <p>Soon! Soon I will post in this category. Check back later.</p>
    </div>
    <% } %>
</div>
